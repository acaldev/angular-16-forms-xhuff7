<section class="flex flex-col mx-96">
  <h1 class="my-5">Thats a ugly code form, with simple error handling</h1>
  <form #formDir="ngForm" [formGroup]="form" (ngSubmit)="submit()">
    <div>
      <label>Name:</label>
      <input type="text" formControlName="name" required />
      <span
        class="error"
        *ngIf="formDir.submitted && this.form.get('name')?.errors?.['required'] || this.form.get('name')?.touched && this.form.get('name')?.errors?.['required']">
        Required Name
      </span>
      <span
        class="error"
        *ngIf="formDir.submitted && this.form.get('name')?.errors?.['minlength'] || this.form.get('name')?.touched && this.form.get('name')?.errors?.['minlength']">
        Min Name 10 characters
      </span>
    </div>
    <div>
      <label>Email:</label>
      <input type="text" formControlName="mail" />
      <span
        class="error"
        *ngIf="formDir.submitted && this.form.get('mail')?.errors?.['required'] || this.form.get('mail')?.touched && this.form.get('mail')?.errors?.['required']">
        Required Email
      </span>
      <span
        class="error"
        *ngIf="formDir.submitted && this.form.get('mail')?.errors?.['email'] || this.form.get('mail')?.touched && this.form.get('mail')?.errors?.['email']">
        Invalid Email
      </span>
    </div>
    <p>
      <label>Message:</label>
      <textarea rows="10" cols="70" formControlName="message"></textarea>
    </p>
    <div
      class="error"
      *ngIf="formDir.submitted && this.form.get('message')?.errors?.['required'] || this.form.get('message')?.touched && this.form.get('message')?.errors?.['required']">
      Required Message
    </div>
    <div
      class="error"
      *ngIf="formDir.submitted && this.form.get('message')?.errors?.['maxlength'] || this.form.get('message')?.touched && this.form.get('message')?.errors?.['maxlength']">
      Message max 500
    </div>
    <button type="submit" class="button my-5">Send</button>
  </form>
  <div>{{ result }}</div>
</section>
